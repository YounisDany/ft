<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: #1a1a1a;
            font-family: Arial, sans-serif;
        }

        .container {
            position: relative;
            margin-top: 100px;
        }

        #textInput {
            width: 300px;
            padding: 15px 50px 15px 20px;
            border-radius: 30px;
            border: none;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: 0.3s;
        }

        .mic-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #7a5fff;
            border: none;
            cursor: pointer;
            transition: 0.3s;
        }

        .mic-btn.active {
            transform: translateY(-50%) scale(1.2);
            background: #9b84ff;
        }

        .siri-wave {
            position: fixed;
            bottom: 150px;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: rgba(122, 95, 255, 0.2);
            animation: wave 1.5s infinite;
            display: none;
        }

        @keyframes wave {
            0% {
                transform: scale(0.8);
                opacity: 1;
            }
            100% {
                transform: scale(2.5);
                opacity: 0;
            }
        }

        .siri-wave.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <input type="text" id="textInput" placeholder="اضغط على الميكروفون للتحدث...">
        <button class="mic-btn" id="micButton">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="white">
                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1 1.93c-3.94-.49-7-3.85-7-7.93h2c0 3.31 2.69 6 6 6s6-2.69 6-6h2c0 4.08-3.06 7.44-7 7.93V19h4v2H8v-2h4v-3.07z"/>
            </svg>
        </button>
    </div>

    <div class="siri-wave" id="siriWave"></div>

    <script>
        const micButton = document.getElementById('micButton');
        const textInput = document.getElementById('textInput');
        const siriWave = document.getElementById('siriWave');
        let isListening = false;

        // تهيئة Web Speech API
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (SpeechRecognition) {
            const recognition = new SpeechRecognition();
            recognition.lang = 'ar-SA'; // للغة العربية
            
            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                textInput.value = transcript;
            }

            recognition.onend = () => {
                if (isListening) {
                    recognition.start();
                }
            }
        } else {
            alert('المتصفح لا يدعم التعرف على الصوت!');
        }

        micButton.addEventListener('click', () => {
            isListening = !isListening;
            
            if (isListening) {
                // بدء الاستماع
                textInput.style.display = 'none';
                micButton.classList.add('active');
                siriWave.classList.add('active');
                recognition.start();
            } else {
                // إيقاف الاستماع
                textInput.style.display = 'block';
                micButton.classList.remove('active');
                siriWave.classList.remove('active');
                recognition.stop();
            }
        });
    </script>
</body>
</html>